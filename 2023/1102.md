---
title: åŸºäºä»£ç å—çš„æ•°æ®ç”Ÿæˆå™¨
mathjax: true
comments: false
---
<div class="post-info">
<span>æ²ˆé”</span>
|
<abbr title="2023-11-08T09:31:13.860967+08:00"><time datetime="2023-11-08T09:31:13.860967+08:00">2023-11-08 09:31:13</time></abbr>
|
<span>â­ï¸ 1</span>
|
<span>ğŸ’¬ï¸ 3</span>
<br>
<div><div class="post-tag">åˆ†äº«</div><div class="post-tag">æµ‹è¯•</div><div class="post-tag">Verilog</div></div>
</div>

> **æç¤º**ï¼šè¿™ç¯‡æ–‡ç« ä¹Ÿåœ¨[ä½œè€…çš„åšå®¢](https://swkfk.top/2023/11/07/%E3%80%90CO%E3%80%91%E5%9F%BA%E4%BA%8E%E4%BB%A3%E7%A0%81%E5%9D%97%E7%9A%84%E6%95%B0%E6%8D%AE%E7%94%9F%E6%88%90%E5%99%A8/)ä¸Šå‘å¸ƒï¼Œåè®®ä¸º CC BY-NC 4.0ã€‚

<div id="reply-4357" class="reply reply-l0">
<div class="reply-header">
<span>æ²ˆé”</span>
</div>
<div class="reply-text">

æœ¬æ–‡ä¸»è¦äº¤æµä¸¤ä¸ªæ–¹é¢çš„é—®é¢˜ï¼šæ•°æ®ç”Ÿæˆå™¨**ç¨‹åºçš„ç»“æ„**ä¸ç”Ÿæˆæ•°æ®çš„**å¼ºåº¦**ã€‚æ–‡æœ«æœ‰ä»£ç è·å–é“¾æ¥ä¸å…·ä½“ä»£ç çš„ä»‹ç»ã€‚ä¸ªäººè§‚ç‚¹ï¼ŒæŠ›ç –å¼•ç‰ï¼Œæœ›æ‰¹è¯„äº¤æµï¼

---
### ç›®å½•
- ç”Ÿæˆå™¨é‡‡ç”¨çš„ç¨‹åºæ¶æ„
  - é¢å‘æ¥å£ä¸ç»§æ‰¿çš„æŒ‡ä»¤è®¾è®¡
  - é¢å‘å—çš„æ¨¡æ¿æ–‡ä»¶
  - æ­¤ç§è®¾è®¡æ–¹å¼çš„ä¼˜åŠ£
- æ•°æ®åˆæ³•æ€§ä¸å¼ºåº¦ä¿éšœ
  - è·³è½¬æŒ‡ä»¤
  - å†…å­˜è¯»å†™æŒ‡ä»¤
  - è¿‡ç¨‹è°ƒç”¨
- ä»£ç è®¾è®¡åˆ†æ
  - æŠ½è±¡åŸºç±»ä¸ä»£ç å—
  - è½¯ä»¶åŒ…ä¸æ¨¡å—
  - æ¨¡æ¿æ–‡ä»¶ä¸å‚æ•°å®šåˆ¶åŒ–
  - å®Œæ•´ä»£ç è·å–
---

# ç”Ÿæˆå™¨é‡‡ç”¨çš„ç¨‹åºæ¶æ„

åœ¨ä¹‹å‰åˆ†äº«çš„æ•°æ®ç”Ÿæˆå™¨è®¾è®¡æ€è·¯ä¸­ï¼Œæœ‰åŒå­¦å°†æŒ‡ä»¤**ç¡¬ç¼–ç **è¿›ç”Ÿæˆå™¨ï¼Œä¹Ÿæœ‰åŒå­¦å°†æŒ‡ä»¤**å†™å…¥é…ç½®æ–‡ä»¶**ï¼Œå¹¶è®¾ç½®ç›¸å…³å‚æ•°ï¼Œå–å¾—äº†æ¯”è¾ƒç†æƒ³çš„éšæœºæ•ˆæœã€‚

åœ¨ P3 çš„è‡ªåŠ¨æµ‹è¯•ä¸­ï¼Œæˆ‘é‡‡å–äº†ä¸€ç§äººå·¥ç¼–å†™â€œ**æè¿°æ–‡ä»¶**â€ï¼Œç”±ç”Ÿæˆå™¨è¿›è¡Œè§£æï¼Œå¹¶ç”Ÿæˆéšæœºäº§ç”Ÿçš„æ±‡ç¼–ä»£ç ã€‚è¿™ç§æ¯”è¾ƒéº»çƒ¦ï¼Œè€Œä¸”æ·»åŠ æŒ‡ä»¤éœ€è¦å¯¹ä¹‹å‰ç¼–å†™å¥½çš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚åŒæ—¶ï¼Œæ•°æ®çš„å¼ºåº¦éå¸¸ä¾èµ–äºç¼–å†™æè¿°æ–‡ä»¶æ—¶çš„è®¾è®¡ä¸æƒ³æ³•ã€‚

å¦‚æœä¸è€ƒè™‘æ–°å¢æŒ‡ä»¤ä¸å¯æ‹“å±•æ€§ï¼Œä¸Šè¿°å‡ ç§æ–¹å¼éƒ½å¯ä»¥å–å¾—æ¯”è¾ƒå¥½çš„æ•ˆæœï¼Œä½†é—®é¢˜çš„å…³é”®ä¾¿åœ¨äº**å¯æ‹“å±•æ€§**ä¸Šã€‚


## é¢å‘æ¥å£ä¸ç»§æ‰¿çš„æŒ‡ä»¤è®¾è®¡

ä¸å¦‚å…ˆçœ‹ä¸€çœ‹æˆ‘ä»¬çš„ â€œé»„é‡‘æ ‡å‡†â€ **Mars** æ˜¯æ€æ ·å¤„ç†é‚£ä¹ˆå¤šçš„æŒ‡ä»¤çš„ã€‚å¦‚ä¸‹æ˜¯ â€œæ³¨å†Œâ€ `addu` æŒ‡ä»¤çš„ä»£ç ï¼Œæ·»åŠ çš„å†…å®¹æ˜¯ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œè¿™ä¸ªç±»åœ¨æ„é€ æ—¶éœ€è¦æŒ‡ä»¤çš„æ ¼å¼ã€æè¿°ã€ç±»å‹ç­‰ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå®ç°äº†æ¥å£ `SimulationCode` çš„åŒ¿åç±»ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª `simulate` æ–¹æ³•ï¼Œå®šä¹‰äº†æŒ‡ä»¤æ‰§è¡Œçš„å…·ä½“è¿‡ç¨‹ã€‚


```Java
instructionList.add(
    new BasicInstruction(
        "addu $t1,$t2,$t3",
        "Addition unsigned without overflow : set $t1 to ($t2 plus $t3), no overflow",
        BasicInstructionFormat.R_FORMAT,
        "000000 sssss ttttt fffff 00000 100001",
        new SimulationCode() {
            public void simulate(ProgramStatement statement) throws ProcessingException {
                int[] operands = statement.getOperands();
                RegisterFile.updateRegister(
                    operands[0],
                    RegisterFile.getValue(operands[1]) + RegisterFile.getValue(operands[2])
                );
            }
        }
    )
);
```

æ€»ç»“ä»¥ä¸‹ï¼ŒMars é‡‡ç”¨çš„æ–¹æ³•æ˜¯æŠ½è±¡å‡ºä¸€ä¸ª**åŸºç±»**æˆ–è€…**æ¥å£**ï¼Œç„¶åé€šè¿‡ç»§æ‰¿æˆ–è€…å®ç°æ¥æ·»åŠ æŒ‡ä»¤ã€‚

é‚£å®ƒçš„è®¾è®¡æ€è·¯**é€‚ç”¨äºæˆ‘ä»¬çš„éœ€æ±‚**å—ï¼Ÿæˆ‘è§‰å¾—ï¼Œé€‚ç”¨ï¼Œä½†ç•¥å¾®ä¸ä¸€æ ·ã€‚Mars ä½œä¸ºæ‰§è¡Œè€…ï¼Œéœ€è¦å¾ˆæ˜ç¡®åœ°**å®šä¹‰å„ä¸ªæŒ‡ä»¤**ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦ç”Ÿæˆè¿™äº›æŒ‡ä»¤ã€‚è‹¥ä¸è€ƒè™‘ç‰¹æ®Šç”¨é€”ï¼Œé¢å¯¹æµ·é‡çš„éšæœºæ•°æ®ï¼Œ`add` å’Œ `sub` æ²¡æœ‰æœ¬è´¨çš„åŒºåˆ«ï¼Œå› æ­¤å¯ä»¥å°†å®ƒä»¬æ”¾åœ¨ä¸€èµ·è€ƒè™‘ã€‚

åŒæ—¶ï¼Œå¾ˆå¤šæŒ‡ä»¤å¹¶ä¸èƒ½å¾ˆéšæ„çš„ç”Ÿæˆï¼Œæ¯”å¦‚åˆ†æ”¯è·³è½¬æŒ‡ä»¤ï¼Œå®ƒä»¬éœ€è¦è¢«ç²¾å¿ƒåœ°è®¾è®¡ï¼Œä»¥æ»¡è¶³æ—¢ä¸å‡ºç°æ­»å¾ªç¯ï¼Œä¹Ÿèƒ½å¤Ÿå°½å¯èƒ½æé«˜è¦†ç›–ç‡çš„æ¡ä»¶ã€‚

åŸºäºè¿™äº›åŸå› ï¼Œæˆ‘åœ¨è®¾è®¡æ•°æ®ç”Ÿæˆå™¨æ—¶ï¼Œé‡‡ç”¨äº† â€œå—â€ çš„è®¾è®¡æ€è·¯ã€‚æ¯”å¦‚ï¼Œå°†å‡ æ¡æ¶‰åŠâ€œè®¡ç®—â€çš„æŒ‡ä»¤æ”¾åœ¨ä¸€èµ·æŠ½å–ï¼Œåˆæ¯”å¦‚ï¼Œå°† `beq` è®¾è®¡ä¸º `while` æˆ–è€… `do-while` å¾ªç¯ç­‰ã€‚


## é¢å‘å—çš„æ¨¡æ¿æ–‡ä»¶

æœ‰äº†å—å°±å¯ä»¥ **random å¯åŠ¨**äº†å—ï¼Ÿå½“ç„¶å¯ä»¥ï¼ä½†é™¤äº†å•çº¯çš„éšæœºç”Ÿæˆï¼Œæˆ‘è¿˜è®¾è®¡äº†ä¸€ç§æ¨¡æ¿æ–‡ä»¶ï¼ˆ`.template`ï¼‰çš„è¯­æ³•ï¼Œé€šè¿‡æ¨¡æ¿æ–‡ä»¶å°†å—ç»„ç»‡èµ·æ¥ï¼Œé…åˆä¸€ç³»åˆ—å®šåˆ¶åŒ–è®¾è®¡ä¸åµŒå¥—ç»„åˆï¼Œå¯ä»¥æ„é€ å‡ºæ›´åŠ ä¸°å¯Œå¤šå½©çš„æ•°æ®ã€‚

ä¸‹é¢æ˜¯å…¶ä¸­çš„ä¸€ä¸ªæ¨¡æ¿æ–‡ä»¶ï¼Œé€šè¿‡ `Beq` å—ï¼ˆä¸æ˜¯ `beq` æŒ‡ä»¤ï¼Œè€Œæ˜¯ç”¨ `beq` å®ç°çš„å¾ªç¯ï¼‰çš„åµŒå¥—å¯ä»¥æ„é€ ä¸€ä¸ªåŒå±‚å¾ªç¯ï¼Œå…¶ä¸­è¿˜å¤¹æ‚ç€ä¸€äº›éšæœºçš„è®¡ç®—æŒ‡ä»¤ï¼Œ~~ç”¨çŸ­çŸ­åå‡ æ¡æŒ‡ä»¤è·‘å‡ºåå‡ ä¸‡è¡Œçš„è¾“å‡º~~ã€‚

```TEXT
Init

Beq end=$s0 var=$s1
    Beq end=$s2 var=$s3
        Nop
        Calc reg=v repeat=2
    Calc reg=t repeat=10
```

æ¯ä¸ªæ¨¡æ¿æ–‡ä»¶å¯ä»¥æœ‰**ä¸åŒçš„ä¾§é‡**ï¼Œé‡ç‚¹æµ‹è¯•æŸäº›æŒ‡ä»¤çš„å…·ä½“åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œè¿‡ç¨‹æ›´åŠ éšæœºçš„**ç»¼åˆæµ‹è¯•**ï¼Œè¿˜å¯ä»¥åˆ©ç”¨ä¸“é—¨çš„æ„é€ ï¼Œè¿›è¡Œ**æé™æµ‹è¯•**ã€‚


## æ­¤ç§è®¾è®¡æ–¹å¼çš„ä¼˜åŠ£

ä¼˜åŠ¿åœ¨äº**æ‹“å±•æ–¹ä¾¿**å¿«æ·ï¼Œ**å¯å®šåˆ¶åŒ–å¼º**ï¼Œèƒ½å¤Ÿå¾ˆè½»æ˜“åœ°æ„é€ å‡ºä¸€äº›å¤æ‚ç»“æ„ã€‚

åŠ£åŠ¿åˆ™åœ¨äºï¼Œä½¿ç”¨è§„å®šçš„èŒƒå¼**å–ä»£äº†éƒ¨åˆ†éšæœºæ€§**ï¼Œæ•°æ®çš„å¼ºåº¦å¾ˆä¾èµ–äºå—çš„è®¾è®¡ä¸æ¨¡æ¿æ–‡ä»¶çš„ç¼–å†™ã€‚


# æ•°æ®åˆæ³•æ€§ä¸å¼ºåº¦ä¿éšœ

## è·³è½¬æŒ‡ä»¤

è®¾å®šå¥½ä¸€ä¸ª â€œè·³è½¬å—â€ï¼Œé‡‡ç”¨**æ„é€ å¾ªç¯**çš„æ–¹å¼ï¼Œå¯ä»¥å°½å¯èƒ½åœ°è¦†ç›–å…¨éƒ¨æµ‹è¯•æƒ…å†µï¼Œæ¯”å¦‚**æ­£è·³**ä¸**åè·³**ã€**æ¯”è¾ƒç»“æœ**åå¤§æˆ–åå°ã€‚

åœ¨ç›®å‰çš„ç¨‹åºå®ç°ä¸­ï¼ŒåªåŒ…å«äº† `while` å‹çš„å¾ªç¯ï¼Œå¾ªç¯ä½“åœ¨ PC è¾ƒå°çš„ä½ç½®ï¼Œå¦‚èƒ½å†å¢æ·» `do-while` å‹çš„å¾ªç¯ï¼Œåˆ™å¯ä»¥è¿›ä¸€æ­¥æé«˜è¦†ç›–ç‡ã€‚

ä¸ºäº†å¼¥è¡¥ä¸Šè¿°ç¼ºæ¼ï¼Œåœ¨å½“å‰çš„å®ç°ä¸­ï¼Œå¾ªç¯ç»ˆå€¼ã€å¾ªç¯åˆå€¼å‡éšæœºç”Ÿæˆï¼Œè¿™æ„å‘³ç€å¾ªç¯å˜é‡æ˜¯**è‡ªå¢**è¿˜æ˜¯**è‡ªå‡**ä¹Ÿæ˜¯éšæœºçš„ã€‚

```Python
    return f"""\
ori {loop_var_r}, $zero, {loop_var}
ori {loop_end_r}, $zero, {loop_end}
{loop_label}:

beq {loop_var_r}, {loop_end_r}, {end_label}

{insert}

ori $at, $zero, 1
{loop_inc} {loop_var_r}, {loop_var_r}, $at
beq $0, $0, {loop_label}
{end_label}:
"""
```

ä¸ºäº†ä½¿æƒ…å†µæ›´åŠ å¤æ‚ï¼Œæˆ‘è¿˜ä¸ºå…¶è®¾è®¡äº†ä¸€ä¸ª â€œå­å—â€ çš„æ¦‚å¿µï¼Œå³ä¸Šè¿°ä»£ç ç¬¬ 8 è¡Œï¼Œå¯ä»¥å¾ˆè½»æ¾åœ°å‘å…¶ä¸­æ’å…¥å…¶ä»–ä»£ç å—ï¼Œç”šè‡³æ„é€ åŒå±‚å¾ªç¯ã€‚ä¸Šé¢çš„ä¾‹å­ä¾¿æ˜¯å¦‚æ­¤ã€‚


## å†…å­˜è¯»å†™æŒ‡ä»¤

å†…å­˜è¯»å†™æµ‹è¯•æœ€å¤§çš„éš¾ç‚¹åœ¨äºï¼Œä¿è¯**åœ°å€åˆæ³•**ä»¥åŠæµ‹åˆ°**ç«‹å³æ•°ã€åŸºåœ°å€çš„å„ç§æƒ…å†µ**ã€‚

å‰è€…ï¼Œæˆ‘é€šè¿‡éšæœºç”Ÿæˆè¦è¯»å†™çš„**å­—åœ°å€**ï¼Œåªè¦ç¡®ä¿ç”Ÿæˆçš„ç«‹å³æ•°ä¸åŸºåœ°å€ä¹‹å’Œä¸ºå…¶çš„å››å€å³å¯ã€‚

åè€…ï¼Œæˆ‘é€šè¿‡éšæœºç”Ÿæˆä¸€ä¸ªç«‹å³æ•°çš„åç§»é‡ï¼Œå†é€šè¿‡è®¡ç®—å¾—åˆ°åŸºåœ°å€çš„æ–¹å¼ï¼Œèƒ½å¤Ÿè¦†ç›–åˆ°åŸºåœ°å€ä¸ºæ­£ã€ä¸ºè´Ÿçš„æƒ…å†µã€‚

```Python
addr = int(self.imm(low=low_addr, high=hgh_addr)) * 4
addr_imm = int(self.imm(low=low_addr, high=hgh_addr))
addr_reg = hex(0xffffffff & (addr - addr_imm))[2:].zfill(8)
```


## è¿‡ç¨‹è°ƒç”¨

å¯ä»¥å®šä¹‰å‡ºä¸€ä¸ª â€œå‡½æ•°ä½“â€ï¼Œé€šè¿‡å‰ç½®çš„è·³è½¬ä¿æŠ¤ï¼Œé€šè¿‡ `jal` å’Œ `jr` è¿›è¡Œè°ƒç”¨ã€‚å¦‚èƒ½éšæœºç”Ÿæˆå‡½æ•°ä½“çš„ä½ç½®ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜è¦†ç›–ç‡ã€‚

```Python
    return f"""\
beq $0, $0, {end_label}
{procedure_label}:

{insert}

jr $ra

{end_label}:
jal {procedure_label}
"""
```


# ä»£ç è®¾è®¡åˆ†æ


## æŠ½è±¡åŸºç±»ä¸ä»£ç å—

åœ¨è¿™é‡Œæˆ‘ç®€å•ä»‹ç»ä¸€ä¸‹æˆ‘çš„ä»£ç å±‚é¢çš„è®¾è®¡æ€è·¯ã€‚

é¦–å…ˆæ˜¯åŸºç±»ï¼Œè€ƒè™‘åˆ° Python è¯­è¨€çš„ä¸€äº›ç‰¹æ€§ä¸é™åˆ¶ï¼Œæˆ‘é‡‡ç”¨çš„æ˜¯**æŠ½è±¡ç±»**ï¼Œè€Œéæ¥å£ã€‚


```Python
class BlockBase:
    """
        The abstract base class for all blocks
    """
    @abc.abstractmethod
    def spawn(self, *args, **kwargs):
        pass
```

æŠ½è±¡ç±»ä¸­å”¯ä¸€çš„æŠ½è±¡æ–¹æ³•ä¸º `spawn`ï¼Œæ¥æ”¶ä¸€ç³»åˆ—å‚æ•°ï¼ˆè¿™æ˜¯ä¸ºäº†åç»­è¿›è¡Œä»£ç å—çš„å®šåˆ¶åŒ–ï¼‰ï¼Œå¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»£è¡¨å½“å‰äº§ç”Ÿçš„æŒ‡ä»¤ã€‚

æ­¤å¤–ï¼ŒæŠ½è±¡ç±»ä¸­ä¹Ÿå®šä¹‰äº†ä¸€ç³»åˆ—é™æ€æ–¹æ³•ï¼Œä»¥éšæœºé‡çš„ç”Ÿæˆä¸ºä¸»ã€‚**éƒ¨åˆ†åˆ—ä¸¾**å¦‚ä¸‹ï¼Œå¯èƒ½ä¼šæ–¹ä¾¿æˆ‘åç»­çš„é˜è¿°ï¼š

```Python
@staticmethod
def imm(*, low, high) -> str:
    return str(random.randint(low, high))

@staticmethod
def shamt() -> str:
    return BlockBase.imm(low=0, high=31)

@staticmethod
def imm16() -> str:
    return BlockBase.imm(low=0, high=65535)
```

ä¸‹é¢ï¼Œä»¥è®¡ç®—ç±»æŒ‡ä»¤ä»£ç å—ä¸ºä¾‹ï¼Œçœ‹ä¸€çœ‹å…·ä½“çš„æ“ä½œï¼š


```Python
class __Calculation(BlockBase):

    choice = [
        "add #r, #r, #r",
        "sub #r, #r, #r",
        "lui #r, #i",
        "ori #r, #r, #i",
        # "sll #r, #r, #s"
    ]

    def spawn(self, *args, **kwargs):
        """
        Spawn a random instruction that is about calculation
        :keyword pick: pick some specified instructions, splitted by `|`
        :keyword reg: choose the registers which are allowed to use
        :keyword repeat: repeat(random) `repeat` times, 1 by default
        :return: multi-line instructions(`repeat` lines)
        """

        # å®šåˆ¶åŒ–å‚æ•°ï¼šæŒ‡å®šç”Ÿæˆçš„æŒ‡ä»¤åˆ—è¡¨
        pick_list = kwargs.get("pick", "|".join([choice.split()[0] for choice in self.choice])).split("|")
        choice_list = [choice for choice in self.choice if choice.split()[0] in pick_list]

        # å®šåˆ¶åŒ–å‚æ•°ï¼šæŒ‡å®šéšæœºç”Ÿæˆçš„æŒ‡ä»¤æ•°
        try:
            repeat = int(kwargs.get("repeat", "1"))
        except ValueError as e:
            repeat = 1

        instr = "\n".join(random.choices(choice_list, k=repeat))

        # å®šåˆ¶åŒ–å‚æ•°ï¼šæŒ‡å®šå…è®¸é€‰ç”¨çš„å¯„å­˜å™¨ç§ç±»
        reg = kwargs.get("reg", "vats")

        # å¯¹æŒ‡ä»¤ä¸­çš„æ“ä½œæ•°è¿›è¡Œéšæœºæ›¿æ¢
        while instr.find("#r") != -1:
            instr = instr.replace("#r", self.reg(reg), 1)
        while instr.find("#i") != -1:
            instr = instr.replace("#i", self.imm16(), 1)
        while instr.find("#s") != -1:
            instr = instr.replace("#s", self.shamt(), 1)

        return instr + "\n"
```


## è½¯ä»¶åŒ…ä¸æ¨¡å—

ä¸ºäº†ç®€åŒ–ç¼–å†™å—çš„æ­¥éª¤ï¼Œæˆ‘å°†å…¨éƒ¨å—æ”¾åœ¨äº†ä¸€ä¸ªè½¯ä»¶åŒ…ä¸­ï¼Œé€šè¿‡ `__init__.py` ç”¨ä¸€ç§ä¼¼ä¹ä¸å¤ªè§„èŒƒçš„æ–¹æ³•è‡ªåŠ¨å¯¼å…¥å…¶ä¸­çš„æ¨¡å—ã€‚

åŒæ—¶ï¼Œåœ¨æ¯ä¸ªå…·ä½“æ¨¡å—ä¸­ï¼Œæˆ‘éƒ½è¦æ±‚æä¾›ä¸€ä¸ªå…¨å±€çš„æ–¹æ³•æ¥æä¾›ç±»çš„å®ä¾‹ï¼š


```Python
def instance():
    return __Calculation()
```


## æ¨¡æ¿æ–‡ä»¶ä¸å‚æ•°å®šåˆ¶åŒ–

é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼ŒåŒå­¦ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°ä¸€äº›å‚æ•°ï¼Œå®ƒä»¬ä¼šè¢«è§£æä¸º**é”®å€¼å¯¹**ï¼Œä¼ é€’ç»™ `kwargs` å‚æ•°ã€‚

ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š

```TEXT
Beq end=$s0 var=$s1
```

è§£æåˆ°çš„å‚æ•°ä¸ºï¼š

```Python
{"end": "$s0", "var": "$s1"}
```

æ­¤å¤–ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­ä¹Ÿå‡ºç°äº†**åµŒå¥—å±‚æ¬¡**ï¼Œå¯ä»¥åˆ©ç”¨ Python ç¼©è¿›çš„æ€è·¯æ¥ç†è§£å®ƒï¼Œä¸‹ä¸€å±‚ç¼©è¿›ä¸­çš„å†…å®¹ä¼šè¢«**ä¼˜å…ˆè§£æç”Ÿæˆ**ï¼Œå¹¶å°†ç”Ÿæˆçš„å†…å®¹ä½œä¸º `args` åˆ—è¡¨å‚æ•°çš„ç¬¬ä¸€é¡¹ä¼ é€’ç»™ `spawn` æ–¹æ³•ã€‚


## å®Œæ•´ä»£ç è·å–

[å‹ç¼©åŒ…é“¾æ¥](https://swkfk.top/assets/DataSpawner.zip)<small>ï¼ˆ[å­˜æ¡£](/images/co-discussions/1102/DataSpawner.zip)ï¼‰</small>


æ²¡æœ‰å…¥å£å‡½æ•°ï¼Œä¹Ÿæ²¡æœ‰å…¥å£ç±»ï¼Œéœ€è¦è°ƒç”¨çš„æ–¹æ³•æ˜¯ `DataSpawner.gen_data`ï¼Œä¿©å‚æ•°å«ä¹‰è§ä»£ç æ³¨é‡Šã€‚

è¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œä½¿ç”¨æ–¹æ³•è§åŒæ–‡ä»¶æœ€åè¢«æ³¨é‡Šæ‰çš„è¯­å¥ã€‚

ç”Ÿæˆçš„å…¨éƒ¨æ•°æ®å‡åœ¨ `temporary/test.asm` ä¸­ï¼Œè¿™æ„å‘³ç€åç”Ÿæˆçš„ä¼šè¦†ç›–å…ˆç”Ÿæˆçš„ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹å†™å…¥æ–‡ä»¶åï¼ˆ`DataSpawner.py` 39 è¡Œï¼‰ï¼Œæˆ–è€…åœ¨å¾ªç¯ä¸­è¿›è¡Œå¤„ç†ï¼ˆ`Dataspawner.py` ç¬¬ 50 è¡Œï¼‰ã€‚å…¶ä»–çš„å¯ä»¥çœ‹ä¸€çœ‹ README ä¸­çš„è¡¨æ ¼ï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹æ¨¡æ¿æ–‡ä»¶éƒ½æ˜¯æ€æ ·å†™çš„ã€‚

åˆ©ç”¨æˆ‘å·²ç»æä¾›çš„æ¨¡æ¿ï¼Œå¯ä»¥æµ‹è¯•åˆ°å…¨éƒ¨æŒ‡ä»¤ï¼Œä¹Ÿå¯ä»¥æµ‹è¯• DM ä¸­å…¨éƒ¨ä½ç½®çš„è¯»å–ä¸å†™å…¥ï¼Œå¦‚æœæœ‰åŒå­¦æœ‰å…´è¶£ç¼–å†™ä¸€äº›æ›´å¼ºæˆ–è€…æ›´æœ‰è¶£çš„å—æˆ–è€…æ¨¡æ¿ï¼Œæ¬¢è¿åˆ†äº«äº¤æµï¼

æ¬¢è¿åŒå­¦ä»¬æå‡ºæ‰¹è¯„æ„è§ï¼Œæˆ–è€…è¿›è¡Œè¡¥å……ï¼

</div>
<div class="reply-footer">
<abbr title="2023-11-08T09:31:13.86816+08:00"><time datetime="2023-11-08T09:31:13.86816+08:00">2023-11-08 09:31:13</time></abbr>
|
<span>CC BY-NC 4.0ï¼ˆä»£ç  MITï¼‰</span>
<span class="reply-vote">â¤ï¸ 4</span>
</div>
</div>
<hr class="reply-separator">
<div id="reply-4358" class="reply reply-l1">
<div class="reply-header">
<span>ç°è¢ç”˜é“å¤« <a href="#reply-4357">å›å¤</a> æ²ˆé”</span>
</div>
<div class="reply-text">

åŒå­¦ï¼Œæ„Ÿè°¢ä½ çš„åˆ†äº«ï¼
ä½¿ç”¨æ•ˆæœå¾ˆå¥½ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜æ˜¯åœ¨ç”Ÿæˆaddå’ŒsubæŒ‡ä»¤æ—¶ä¼šå‡ºç°æº¢å‡ºçš„æƒ…å†µï¼Œå¯¼è‡´marsæŠ¥é”™

</div>
<div class="reply-footer">
<abbr title="2023-11-08T20:39:07.739075+08:00"><time datetime="2023-11-08T20:39:07.739075+08:00">2023-11-08 20:39:07</time></abbr>
|
<span>ä¿ç•™æ‰€æœ‰æƒåˆ©</span>
<span class="reply-vote">â¤ï¸ 0</span>
</div>
</div>
<hr class="reply-separator">
<div id="reply-4361" class="reply reply-l2">
<div class="reply-header">
<span>æ²ˆé” <a href="#reply-4358">å›å¤</a> ç°è¢ç”˜é“å¤«</span>
</div>
<div class="reply-text">

è¿™ä¸ªå¯ä»¥ä½¿ç”¨ Toby å­¦é•¿å®šåˆ¶è¿‡çš„ Marsï¼Œå¼€å¯å¿½ç•¥æº¢å‡ºçš„åŠŸèƒ½ ~

</div>
<div class="reply-footer">
<abbr title="2023-11-08T23:20:10.569564+08:00"><time datetime="2023-11-08T23:20:10.569564+08:00">2023-11-08 23:20:10</time></abbr>
|
<span>CC BY-NC 4.0ï¼ˆä»£ç  MITï¼‰</span>
<span class="reply-vote">â¤ï¸ 0</span>
</div>
</div>